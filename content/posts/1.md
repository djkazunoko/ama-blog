---
date: '2022-02-01'
draft: false
title: 'MacBookでシェルをbashやzshに切り替える方法'
showToc: true
tocopen: true
---

macOS Catalinaからデフォルトのシェルがbashからzshに変わりました。

「zshに変更したい」「bashに戻したい」などシェルを切り替えたい時があると思います。

本稿では、MacBookでシェルを切り替える方法を紹介します。

## 1.現在使用中のシェルの確認

```
% echo $SHELL
/bin/zsh
```

## 2.使用可能なシェル一覧の確認

```
% cat /etc/shells
# List of acceptable shells for chpass(1).
# Ftpd will not allow users to connect who are not using
# one of these shells.

/bin/bash
/bin/csh
/bin/dash
/bin/ksh
/bin/sh
/bin/tcsh
/bin/zsh
```

## 3.シェルの変更

```
% chsh -s /bin/bash
Changing shell for username.
Password for username:
```
ユーザーのパスワードを入力します。

ターミナル再起動後、シェルが切り替わります。

### エラーの場合
`chsh: no changes made`のエラーが出た場合は以下の手順でシェルを変更します。

1. 「システム環境設定」
1. 「ユーザとグループ」
1. 左下の鍵アイコンをクリックしてロック解除
1. 現在のユーザを右クリックして「詳細オプション」
1. 「ログインシェル」を変更

## 4.設定ファイルの読み込み

```
$ cat .zshrc >> .bashrc
$ source ~/.bashrc
```
これで設定ファイルの内容が反映されます。

`$ cat .zshrc >> .bashrc`はファイルをコピーしてるだけなので、切り替え後のシェルに合わせた内容の書き換えが必要です。
